# 所有Scenario问题难度分布统计

生成时间: 2025-12-03 10:02:34

本文档汇总了所有PDDL3 Scenario的问题难度和数量分布统计。

包含以下目录的统计：
- `all_problems3`: 所有PDDL3问题
- `all_problems3/testing`: 测试集问题
- `sft_500`: SFT训练集（500个问题）
- `grpo_500`: GRPO训练集（500个问题）

## GRID

### all_problems3

- **总问题数**: 2810

#### 按网格大小分布
| 网格大小 (X×Y) | 问题数 | 占比 |
|----------------|--------|------|
| 4×4 (16) | 460 | 16.4% |
| 5×5 (25) | 1776 | 63.2% |
| 6×6 (36) | 574 | 20.4% |

#### 按难度参数分布
| 参数 | 值 | 问题数 | 占比 |
|------|-----|--------|------|
| Shapes | 2 | 992 | 35.3% |
| Shapes | 3 | 1818 | 64.7% |
| Keys | 2 | 235 | 8.4% |
| Keys | 3 | 2019 | 71.9% |
| Keys | 4 | 556 | 19.8% |
| Locks | 2 | 235 | 8.4% |
| Locks | 3 | 2019 | 71.9% |
| Locks | 4 | 556 | 19.8% |

#### 主要配置（Top 5）
| X | Y | Shapes | Keys | Locks | 问题数 | 占比 |
|---||---|--------|------|-------|--------|------|
| 5 | 5 | 3 | 3 | 3 | 688 | 24.5% |
| 6 | 6 | 3 | 3 | 3 | 574 | 20.4% |
| 5 | 5 | 3 | 4 | 4 | 556 | 19.8% |
| 5 | 5 | 2 | 3 | 3 | 532 | 18.9% |
| 4 | 4 | 2 | 2 | 2 | 235 | 8.4% |

### all_problems3/testing

无数据


### sft_500

无数据


### grpo_500

无数据


---

## BLOCKSWORLD

### all_problems3

- **总问题数**: 4005

#### 按操作符数量分布
| Ops | 问题数 | 占比 |
|-----|--------|------|
| 3 | 2362 | 59.0% |
| 4 | 1643 | 41.0% |

#### 按块数量分布
| 块数 (n) | 问题数 | 占比 |
|----------|--------|------|
| 3 | 243 | 6.1% |
| 4 | 644 | 16.1% |
| 5 | 1256 | 31.4% |
| 6 | 1862 | 46.5% |

#### 主要配置（Top 5）
| Ops | 块数 (n) | 问题数 | 占比 |
|-----|-----------|--------|------|
| 3 | 6 | 944 | 23.6% |
| 4 | 6 | 918 | 22.9% |
| 3 | 5 | 708 | 17.7% |
| 4 | 5 | 548 | 13.7% |
| 3 | 4 | 467 | 11.7% |

### all_problems3/testing

- **总问题数**: 200

#### 按操作符数量分布
| Ops | 问题数 | 占比 |
|-----|--------|------|
| 3 | 108 | 54.0% |
| 4 | 92 | 46.0% |

#### 按块数量分布
| 块数 (n) | 问题数 | 占比 |
|----------|--------|------|
| 3 | 14 | 7.0% |
| 4 | 31 | 15.5% |
| 5 | 53 | 26.5% |
| 6 | 102 | 51.0% |

#### 主要配置（Top 5）
| Ops | 块数 (n) | 问题数 | 占比 |
|-----|-----------|--------|------|
| 4 | 6 | 52 | 26.0% |
| 3 | 6 | 50 | 25.0% |
| 4 | 5 | 27 | 13.5% |
| 3 | 5 | 26 | 13.0% |
| 3 | 4 | 18 | 9.0% |

### sft_500

- **总问题数**: 500

#### 按操作符数量分布
| Ops | 问题数 | 占比 |
|-----|--------|------|
| 3 | 500 | 100.0% |

#### 按块数量分布
| 块数 (n) | 问题数 | 占比 |
|----------|--------|------|
| 3 | 23 | 4.6% |
| 4 | 98 | 19.6% |
| 5 | 213 | 42.6% |
| 6 | 166 | 33.2% |

#### 主要配置（Top 5）
| Ops | 块数 (n) | 问题数 | 占比 |
|-----|-----------|--------|------|
| 3 | 5 | 213 | 42.6% |
| 3 | 6 | 166 | 33.2% |
| 3 | 4 | 98 | 19.6% |
| 3 | 3 | 23 | 4.6% |

### grpo_500

- **总问题数**: 500

#### 按操作符数量分布
| Ops | 问题数 | 占比 |
|-----|--------|------|
| 3 | 123 | 24.6% |
| 4 | 377 | 75.4% |

#### 按块数量分布
| 块数 (n) | 问题数 | 占比 |
|----------|--------|------|
| 4 | 62 | 12.4% |
| 5 | 226 | 45.2% |
| 6 | 212 | 42.4% |

#### 主要配置（Top 5）
| Ops | 块数 (n) | 问题数 | 占比 |
|-----|-----------|--------|------|
| 4 | 5 | 226 | 45.2% |
| 3 | 6 | 123 | 24.6% |
| 4 | 6 | 89 | 17.8% |
| 4 | 4 | 62 | 12.4% |

---

## FERRY

### all_problems3

- **总问题数**: 5000

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 740 | 14.8% |
| 4 | 1220 | 24.4% |
| 5 | 1369 | 27.4% |
| 6 | 1671 | 33.4% |

#### 按汽车数量分布
| 汽车数 (c) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 1296 | 25.9% |
| 3 | 3704 | 74.1% |

#### 主要配置（Top 5）
| 位置数 (l) | 汽车数 (c) | 问题数 | 占比 |
|------------|------------|--------|------|
| 4 | 3 | 1045 | 20.9% |
| 6 | 3 | 1000 | 20.0% |
| 5 | 3 | 1000 | 20.0% |
| 6 | 2 | 671 | 13.4% |
| 3 | 3 | 659 | 13.2% |

### all_problems3/testing

- **总问题数**: 200

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 28 | 14.0% |
| 4 | 61 | 30.5% |
| 5 | 52 | 26.0% |
| 6 | 59 | 29.5% |

#### 按汽车数量分布
| 汽车数 (c) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 48 | 24.0% |
| 3 | 152 | 76.0% |

#### 主要配置（Top 5）
| 位置数 (l) | 汽车数 (c) | 问题数 | 占比 |
|------------|------------|--------|------|
| 4 | 3 | 51 | 25.5% |
| 6 | 3 | 39 | 19.5% |
| 5 | 3 | 36 | 18.0% |
| 3 | 3 | 26 | 13.0% |
| 6 | 2 | 20 | 10.0% |

### sft_500

- **总问题数**: 500

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 478 | 95.6% |
| 4 | 22 | 4.4% |

#### 按汽车数量分布
| 汽车数 (c) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 70 | 14.0% |
| 3 | 430 | 86.0% |

#### 主要配置（Top 5）
| 位置数 (l) | 汽车数 (c) | 问题数 | 占比 |
|------------|------------|--------|------|
| 3 | 3 | 430 | 86.0% |
| 3 | 2 | 48 | 9.6% |
| 4 | 2 | 22 | 4.4% |

### grpo_500

- **总问题数**: 500

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 4 | 500 | 100.0% |

#### 按汽车数量分布
| 汽车数 (c) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 130 | 26.0% |
| 3 | 370 | 74.0% |

#### 主要配置（Top 5）
| 位置数 (l) | 汽车数 (c) | 问题数 | 占比 |
|------------|------------|--------|------|
| 4 | 3 | 370 | 74.0% |
| 4 | 2 | 130 | 26.0% |

---

## SPANNER

### all_problems3

- **总问题数**: 2892

#### 按扳手数量分布
| 扳手数 (s) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 349 | 12.1% |
| 3 | 2248 | 77.7% |
| 4 | 295 | 10.2% |

#### 按螺母数量分布
| 螺母数 (n) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 1400 | 48.4% |
| 3 | 1492 | 51.6% |

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 349 | 12.1% |
| 4 | 2543 | 87.9% |

#### 主要配置（Top 5）
| 扳手数 (s) | 螺母数 (n) | 位置数 (l) | 问题数 | 占比 |
|------------|------------|------------|--------|------|
| 3 | 3 | 4 | 1197 | 41.4% |
| 3 | 2 | 4 | 1051 | 36.3% |
| 2 | 2 | 3 | 349 | 12.1% |
| 4 | 3 | 4 | 295 | 10.2% |

### all_problems3/testing

- **总问题数**: 195

#### 按扳手数量分布
| 扳手数 (s) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 25 | 12.8% |
| 3 | 152 | 77.9% |
| 4 | 18 | 9.2% |

#### 按螺母数量分布
| 螺母数 (n) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 103 | 52.8% |
| 3 | 92 | 47.2% |

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 25 | 12.8% |
| 4 | 170 | 87.2% |

#### 主要配置（Top 5）
| 扳手数 (s) | 螺母数 (n) | 位置数 (l) | 问题数 | 占比 |
|------------|------------|------------|--------|------|
| 3 | 2 | 4 | 78 | 40.0% |
| 3 | 3 | 4 | 74 | 37.9% |
| 2 | 2 | 3 | 25 | 12.8% |
| 4 | 3 | 4 | 18 | 9.2% |

### sft_500

- **总问题数**: 500

#### 按扳手数量分布
| 扳手数 (s) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 324 | 64.8% |
| 3 | 176 | 35.2% |

#### 按螺母数量分布
| 螺母数 (n) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 500 | 100.0% |

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 324 | 64.8% |
| 4 | 176 | 35.2% |

#### 主要配置（Top 5）
| 扳手数 (s) | 螺母数 (n) | 位置数 (l) | 问题数 | 占比 |
|------------|------------|------------|--------|------|
| 2 | 2 | 3 | 324 | 64.8% |
| 3 | 2 | 4 | 176 | 35.2% |

### grpo_500

- **总问题数**: 500

#### 按扳手数量分布
| 扳手数 (s) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 500 | 100.0% |

#### 按螺母数量分布
| 螺母数 (n) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 399 | 79.8% |
| 3 | 101 | 20.2% |

#### 按位置数量分布
| 位置数 (l) | 问题数 | 占比 |
|------------|--------|------|
| 4 | 500 | 100.0% |

#### 主要配置（Top 5）
| 扳手数 (s) | 螺母数 (n) | 位置数 (l) | 问题数 | 占比 |
|------------|------------|------------|--------|------|
| 3 | 2 | 4 | 399 | 79.8% |
| 3 | 3 | 4 | 101 | 20.2% |

---

## GRIPPERS

### all_problems3

- **总问题数**: 5000

#### 按机器人数量分布
| 机器人数 (n) | 问题数 | 占比 |
|--------------|--------|------|
| 1 | 750 | 15.0% |
| 2 | 4250 | 85.0% |

#### 按房间数量分布
| 房间数 (r) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 1100 | 22.0% |
| 4 | 3900 | 78.0% |

#### 按物体数量分布
| 物体数 (o) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 50 | 1.0% |
| 3 | 3150 | 63.0% |
| 4 | 1800 | 36.0% |

#### 主要配置（Top 5）
| 机器人数 (n) | 房间数 (r) | 物体数 (o) | 问题数 | 占比 |
|--------------|------------|------------|--------|------|
| 2 | 4 | 4 | 1800 | 36.0% |
| 2 | 4 | 3 | 1500 | 30.0% |
| 2 | 3 | 3 | 900 | 18.0% |
| 1 | 4 | 3 | 600 | 12.0% |
| 1 | 3 | 3 | 150 | 3.0% |

### all_problems3/testing

- **总问题数**: 200

#### 按机器人数量分布
| 机器人数 (n) | 问题数 | 占比 |
|--------------|--------|------|
| 1 | 28 | 14.0% |
| 2 | 172 | 86.0% |

#### 按房间数量分布
| 房间数 (r) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 56 | 28.0% |
| 4 | 144 | 72.0% |

#### 按物体数量分布
| 物体数 (o) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 2 | 1.0% |
| 3 | 134 | 67.0% |
| 4 | 64 | 32.0% |

#### 主要配置（Top 5）
| 机器人数 (n) | 房间数 (r) | 物体数 (o) | 问题数 | 占比 |
|--------------|------------|------------|--------|------|
| 2 | 4 | 4 | 64 | 32.0% |
| 2 | 4 | 3 | 55 | 27.5% |
| 2 | 3 | 3 | 51 | 25.5% |
| 1 | 4 | 3 | 25 | 12.5% |
| 1 | 3 | 3 | 3 | 1.5% |

### sft_500

- **总问题数**: 500

#### 按机器人数量分布
| 机器人数 (n) | 问题数 | 占比 |
|--------------|--------|------|
| 1 | 500 | 100.0% |

#### 按房间数量分布
| 房间数 (r) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 142 | 28.4% |
| 4 | 358 | 71.6% |

#### 按物体数量分布
| 物体数 (o) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 500 | 100.0% |

#### 主要配置（Top 5）
| 机器人数 (n) | 房间数 (r) | 物体数 (o) | 问题数 | 占比 |
|--------------|------------|------------|--------|------|
| 1 | 4 | 3 | 358 | 71.6% |
| 1 | 3 | 3 | 142 | 28.4% |

### grpo_500

- **总问题数**: 500

#### 按机器人数量分布
| 机器人数 (n) | 问题数 | 占比 |
|--------------|--------|------|
| 1 | 211 | 42.2% |
| 2 | 289 | 57.8% |

#### 按房间数量分布
| 房间数 (r) | 问题数 | 占比 |
|------------|--------|------|
| 3 | 289 | 57.8% |
| 4 | 211 | 42.2% |

#### 按物体数量分布
| 物体数 (o) | 问题数 | 占比 |
|------------|--------|------|
| 2 | 23 | 4.6% |
| 3 | 477 | 95.4% |

#### 主要配置（Top 5）
| 机器人数 (n) | 房间数 (r) | 物体数 (o) | 问题数 | 占比 |
|--------------|------------|------------|--------|------|
| 2 | 3 | 3 | 266 | 53.2% |
| 1 | 4 | 3 | 211 | 42.2% |
| 2 | 3 | 2 | 23 | 4.6% |

---

## DELIVERY

### all_problems3

- **总问题数**: 2000

#### 按网格大小分布
| 网格大小 | 问题数 | 占比 |
|----------|--------|------|
| 2×2 | 192 | 9.6% |
| 3×3 | 900 | 45.0% |
| 4×4 | 908 | 45.4% |

#### 按包裹数量分布
| 包裹数 | 问题数 | 占比 |
|--------|--------|------|
| 1 | 748 | 37.4% |
| 2 | 1252 | 62.6% |

#### 主要配置（Top 5）
| 网格大小 | 包裹数 | 问题数 | 占比 |
|----------|--------|--------|------|
| 3×3 | 2 | 600 | 30.0% |
| 4×4 | 2 | 508 | 25.4% |
| 4×4 | 1 | 400 | 20.0% |
| 3×3 | 1 | 300 | 15.0% |
| 2×2 | 2 | 144 | 7.2% |

### all_problems3/testing

- **总问题数**: 200

#### 按网格大小分布
| 网格大小 | 问题数 | 占比 |
|----------|--------|------|
| 2×2 | 20 | 10.0% |
| 3×3 | 78 | 39.0% |
| 4×4 | 102 | 51.0% |

#### 按包裹数量分布
| 包裹数 | 问题数 | 占比 |
|--------|--------|------|
| 1 | 72 | 36.0% |
| 2 | 128 | 64.0% |

#### 主要配置（Top 5）
| 网格大小 | 包裹数 | 问题数 | 占比 |
|----------|--------|--------|------|
| 4×4 | 2 | 60 | 30.0% |
| 3×3 | 2 | 52 | 26.0% |
| 4×4 | 1 | 42 | 21.0% |
| 3×3 | 1 | 26 | 13.0% |
| 2×2 | 2 | 16 | 8.0% |

### sft_500

无数据


### grpo_500

无数据


---

## 训练集验证统计

本节统计了 `all_problems3/training` 中的问题是否能够被 `all_problems/training` 中的旧解（PDDL2 solution）求解。这用于验证 PDDL3 约束的有效性：如果约束有效，则旧解应该无法求解新的 PDDL3 问题。

### 验证方法

对每个场景，使用 `validate_classical_solvers.py` 验证：
- **Domain**: `domain3.pddl` (PDDL3 domain)
- **Problems**: `all_problems3/training` 目录下的所有 `.pddl` 文件
- **Solutions**: `all_problems/training` 目录下对应的 `.soln` 文件

### 统计结果

| 场景 | 总问题数 (all_problems3/training) | 能被旧解求解 | 不能被旧解求解 | 能被旧解求解的比例 |
|------|----------------------------------|--------------|----------------|-------------------|
| **blocksworld** | 3,805 | **1,626** | 2,030 | **42.73%** |
| **ferry** | 4,800 | **377** | 4,423 | **7.85%** |
| **spanner** | 1,497 | **0** | 377 | **0.00%** |
| **grippers** | 4,605 | **1,285** | 3,318 | **27.90%** |

### 说明

- **能被旧解求解**: `all_problems3/training` 中的问题，存在 `all_problems/training` 下的 `.soln` 在 `domain3.pddl` 下验证为 valid
- **不能被旧解求解**: `all_problems3/training` 中的问题，所有对应的旧解在 PDDL3 下都 invalid
- **验证时间**: 2025-12-03

### 结论

- **spanner**: ✅ 约束完全有效，0 个问题能被旧解求解（100% 约束有效性）
- **ferry**: ⚠️ 377 个问题（7.85%）仍能被旧解求解
- **grippers**: ⚠️ 1,285 个问题（27.90%）仍能被旧解求解
- **blocksworld**: ⚠️ 1,626 个问题（42.73%）仍能被旧解求解

---

## 总结

### 各目录总问题数

| 目录 | 总问题数 |
|------|----------|
| all_problems3 | 21707 |
| all_problems3/testing | 995 |
| sft_500 | 2000 |
| grpo_500 | 2000 |

### 各Scenario问题数量分布

| Scenario | all_problems3 | all_problems3/testing | sft_500 | grpo_500 |
|----------|---------------|----------------------|---------|----------|
| blocksworld | 4005 | 200 | 500 | 500 |
| delivery | 2000 | 200 | 0 | 0 |
| ferry | 5000 | 200 | 500 | 500 |
| grid | 2810 | 0 | 0 | 0 |
| grippers | 5000 | 200 | 500 | 500 |
| spanner | 2892 | 195 | 500 | 500 |
