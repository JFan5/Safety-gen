\begin{abstract}
    Safety-critical task planning in Cyber-Physical Systems (CPS) remains challenging: classical planners suffer from poor scalability, RL-based methods generalize poorly, and base LLMs cannot guarantee safety. We construct a multi-domain PDDL3 benchmark with explicit safety constraints and propose a two-stage post-training framework combining Supervised Fine-Tuning (SFT) on safety-constrained demonstrations with Group Relative Policy Optimization (GRPO) guided by fine-grained reward machines from formal verification. With curriculum learning for training stability, our approach achieves strong safety generalization across multi-domain planning tasks and outperforms significantly larger models with orders of magnitude more parameters.
\end{abstract}


\keywords{Cyber-Physical Systems, Task Planning, Large Language Models, Safety Generalizability, PDDL3}
