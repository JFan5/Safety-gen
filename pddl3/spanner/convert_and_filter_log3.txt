======================================================================
Step 1: Convert all_problems to all_problems3 with PDDL3 constraints
======================================================================
Running: python3 /home/jfan5/Safety-gen/pddl3/spanner/convert_training_to_pddl3.py --input /home/jfan5/Safety-gen/pddl3/spanner/all_problems --output /home/jfan5/Safety-gen/pddl3/spanner/all_problems3 --constraint-style spanner-invalidating
Converted: ok=7000, fail=0 -> /home/jfan5/Safety-gen/pddl3/spanner/all_problems3


Converted 7000 problems to PDDL3

======================================================================
Step 2: Filter - keep only problems where PDDL2 solution FAILS
======================================================================
Checking 7000 problems...
  Processed 500/7000: 500 candidates so far
  Processed 1000/7000: 1000 candidates so far
  Processed 1500/7000: 1500 candidates so far
  Processed 2000/7000: 2000 candidates so far
  Processed 2500/7000: 2500 candidates so far
  Processed 3000/7000: 3000 candidates so far
  Processed 3500/7000: 3500 candidates so far
  Processed 4000/7000: 4000 candidates so far
  Processed 4500/7000: 4500 candidates so far
  Processed 5000/7000: 5000 candidates so far
  Processed 5500/7000: 5500 candidates so far
  Processed 6000/7000: 6000 candidates so far
  Processed 6500/7000: 6500 candidates so far
  Processed 7000/7000: 7000 candidates so far

Filtering results:
  Candidates (PDDL2 solution fails): 7000
  PDDL2 solution still valid: 0
  No constraints generated: 0
  Other issues: 0

Removing 0 non-candidate files...
Removed 0 files
Remaining candidate problems: 7000

======================================================================
Step 3: Solve all candidate problems with OPTIC (parallel)
======================================================================
  Progress: 500/7000, solved: 0
  Progress: 1000/7000, solved: 0
  Progress: 1500/7000, solved: 0
  Progress: 2000/7000, solved: 0
  Progress: 2500/7000, solved: 0
  Progress: 3000/7000, solved: 0
  Progress: 3500/7000, solved: 0
  Progress: 4000/7000, solved: 0
  Progress: 4500/7000, solved: 0
  Progress: 5000/7000, solved: 0
  Progress: 5500/7000, solved: 0
  Progress: 6000/7000, solved: 0
  Progress: 6500/7000, solved: 0
  Progress: 7000/7000, solved: 0

OPTIC solving results:
  Solved: 0
  Failed to solve: 7000

======================================================================
Step 4: Validate all OPTIC solutions (parallel)
======================================================================
Validating 0 solutions...

Validation results:
  Valid solutions: 0
  Invalid solutions: 0

Removing invalid problem-solution pairs...

======================================================================
FINAL SUMMARY
======================================================================
Original problems: 7000
After PDDL3 conversion: 7000
After filtering (PDDL2 fails): 7000
After OPTIC solving: 0
After validation: 0

Final all_problems3 contains 0 valid PDDL3 problems

Summary saved to /home/jfan5/Safety-gen/pddl3/spanner/all_problems3/conversion_summary.json
