commentaryWe need to solve blocksworld with 6 blocks and a PDDL3 constraint: (sometime-before (on b3 b5) (on b2 b1)). The goal:
- (on b2 b1)
- (on b3 b5)
- (on b4 b3)
- (on b5 b6)
- (on b6 b2)
Initial state:
- arm-empty
- on-table b1
- on b2 b1
- on b3 b4
- on b4 b5
- on b5 b2
- on b6 b3
- clear b6
Other facts:
- clear b3? Let's compute: b3 is on b4, so b3 is not clear.
- clear b4? b4 is on b5, and b3 is on b4, so b4 is not clear.
- clear b5? b5 is on b2, and b4 is on b5, so b5 not clear.
- clear b2? b2 is on b1, and b5 is on b2, so b2 not clear.
- clear b1? b1 is on-table, and b2 is on b1, so b1 not clear.
So only clear block is b6.
We need to achieve goal state with constraints. Let's list goal facts:
1. on b2 b1
2. on b3 b5
3. on b4 b3
4. on b5 b6
5. on b6 b2
Also, we need to satisfy PDDL3 constraint: sometime-before (on b3 b5) (on b2 b1). That means at some point during the plan, b3 is on b5, and at some (possibly different) point, b2 is on b1, and the latter must occur after the former. So the order constraint: (on b3 b5) must occur before (on b2 b1). So we must first achieve on b3 b5, then later achieve on b2 b1. Also, both must hold at goal, but the constraint only cares about the temporal order during the plan, not necessarily at goal. So we must ensure that at the time we achieve on b2 b1, we have already had on b3 b5 at some earlier time. So we need to plan accordingly.
Initial configuration:
b1 table
b2