Based on the provided domain and problem, the plan can be generated as follows:

1. unlock pos1-1 pos3-1 key1 shape1
2. unlock pos1-2 pos3-1 key2 shape2
3. move pos1-2 pos2-2
4. move pos2-2 pos4-1
5. move pos4-1 pos4-2
6. move pos4-2 pos4-1
7. move pos4-1 pos4-2
8. move pos4-2 pos4-3
9. move pos4-3 pos4-4
10. move pos4-4 pos4-5
11. move pos4-5 pos4-4
12. move pos4-4 pos4-5
13. move pos4-5 pos4-4
14. move pos4-4 pos4-5
15. move pos4-5 pos4-4
16. move pos4-4 pos4-5
17. move pos4-5 pos4-4
18. move pos4-4 pos4-5
19. move pos4-5 pos4-4
20. move pos4-4 pos4-5
21. move pos4-5 pos4-4
22. move pos4-4 pos4-5
23. move pos4-5 pos4-4
24. move pos4-4 pos4-5
25. move pos4-5 pos4-4
26. move pos4-4 pos4-5
27. move pos4-5 pos4-4
28. move pos4-4 pos4-5
29. move pos4-5 pos4-4
30. move pos4-4 pos4-5
31. move pos4-5 pos4-4
32. move pos4-4 pos4-5
33. move pos4-5 pos4-4
34. move pos4-4 pos4-5
35. move pos4-5 pos4-4
36. move pos4-4 pos4-5
37. move pos4-5 pos4-4
38. move pos4-4 pos4-5
39. move pos4-5 pos4-4
40. move pos4-4 pos4-5
41. move pos4-5 pos4-4
42. move pos4-4 pos4-5
43. move pos4-5 pos4-4
44. move pos4-4 pos4-5
45. move pos4-5 pos4-4
46. move pos4-4 pos4-5
47. move pos4-5 pos4-4
48. move pos4-4 pos4-5
49. move pos4-5 pos4-4
50. move pos4-4 pos4-5
51. move pos4-5 pos4-4
52. move pos4-4 pos4-5
53. move pos4-5 pos4-4
54. move pos4-4 pos4-5
55. move pos4-5 pos4-4
56. move pos4-4 pos4-5
57. move pos4-5 pos4-4
58. move pos4-4 pos4-5
59. move pos4-5 pos4-4
60. move pos4-4 pos4-5
61. move pos4-5 pos4-4
62. move pos4-4 pos4-5
63. move pos4-5 pos4-4
64. move pos4-4 pos4-5
65. move pos4-5 pos4-4
66. move pos4-4 pos4-5
67. move pos4-5 pos4-4
68. move pos4-4 pos4-5
69. move pos4-5 pos4-4
70. move pos4-4 pos4-5
71. move pos4-5 pos4-4
72. move pos4-4 pos4-5
73. move pos4-5 pos4-4
74. move pos4-4 pos4-5
75. move pos4-5 pos4-4
76. move pos4-4 pos4-5
77. move pos4-5 pos4-4
78. move pos4-4 pos4-5
79. move pos4-5 pos4-4
80. move pos4-4 pos4-5
81. move pos4-5 pos4-4
82. move pos4-4 pos4-5
83. move pos4-5 pos4-4
84. move pos4-4 pos4-5
85. move pos4-5 pos4-4
86. move pos4-4 pos4-5
87. move pos4-5 pos4-4
88. move pos4-4 pos4-5
89. move pos4-5 pos4-4
90. move pos4-4 pos4-5
91. move pos4-5 pos4-4
92. move pos4-4 pos4-5
93. move pos4-5 pos4-4
94. move pos4-4 pos4-5
95. move pos4-5 pos4-4
96. move pos4-4 pos4-5
97. move pos4-5 pos4-4
98. move pos4-4 pos4-5
99. move pos4-5 pos4-4
100. move pos4-4 pos4-5
101. move pos4-5 pos4-4
102. move pos4-4 pos4-5
103. move pos4-5 pos4-4
104. move pos4-4 pos4-5
105. move pos4-5 pos4-4
106. move pos4-4 pos4-5
107. move pos4-5 pos4-4
108. move pos4-4 pos4-5
109. move pos4-5 pos4-4
110. move pos4-4 pos4-5
111. move pos4-5 pos4-4
112. move pos4-4 pos4-5
113. move pos4-5 pos4-4
114. move pos4-4 pos4-5
115. move pos4-5 pos4-4
116. move pos4-4 pos4-5
117. move pos4-5 pos4-4
118. move pos4-4 pos4-5
119. move pos4-5 pos4-4
120. move pos4-4 pos4-5
121. move pos4-5 pos4-4
122. move pos4-4 pos4-5
123. move pos4-5 pos4-4
124. move pos4-4 pos4-5
125. move pos4-5 pos4-4
126. move pos4-4 pos4-5
127. move pos4-5 pos4-4
128. move pos4-4 pos4-5
129. move pos4-5 pos4-4
130. move pos4-4 pos4-5
131. move pos4-5 pos4-4
132. move pos4-4 pos4-5
133. move pos4-5 pos4-4
134. move pos4-4 pos4-5
135. move pos4-5 pos4-4
136. move pos4-4 pos4-5
137. move pos4-5 pos4-4
138. move pos4-4 pos4-5
139. move pos4-5 pos4-4
140. move pos4-4 pos4-5
141. move pos4-5 pos4-4
142. move pos4-4 pos4-5
143. move pos4-5 pos4-4
144. move pos4-4 pos4-5
145. move pos4-5 pos4-4
146. move pos4-4 pos4-5
147. move pos4-5 pos4-4
148. move pos4-4 pos4-5
149. move pos4-5 pos4-4
150. move pos4-4 pos4-5
151. move pos4-5 pos4-4
152. move pos4-4 pos4-5
153. move pos4-5 pos4-4
154. move pos4-4 pos4-5
155. move pos4-5 pos4-4
156. move pos4-4 pos4-5
157. move pos4-5 pos4-4
158. move pos4-4 pos4-5
159. move pos4-5 pos4-4
160. move pos4-4 pos4-5
161. move pos4-5 pos4-4
162. move pos4-4 pos4-5
163. move pos4-5 pos4-4
164. move pos4-4 pos4-5
165. move pos4-5 pos