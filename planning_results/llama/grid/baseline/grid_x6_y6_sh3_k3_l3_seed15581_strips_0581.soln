Based on the provided domain and problem, the plan can be generated as follows:

1. (unlock pos5-1 shape0)
2. (unlock pos4-1 shape1)
3. (unlock pos2-1 shape2)
4. (move pos4-1 pos5-2)
5. (pickup pos5-2 key1)
6. (move pos5-2 pos5-1)
7. (drop pos5-1 key1)
8. (pickup pos5-1 key2)
9. (move pos5-1 pos5-2)
10. (drop pos5-2 key2)
11. (pickup pos5-2 key1)
12. (move pos5-2 pos5-1)
13. (drop pos5-1 key1)
14. (pickup pos5-1 key2)
15. (move pos5-1 pos5-2)
16. (drop pos5-2 key2)
17. (pickup pos5-2 key1)
18. (move pos5-2 pos5-1)
19. (drop pos5-1 key1)
20. (pickup pos5-1 key2)
21. (move pos5-1 pos5-2)
22. (drop pos5-2 key2)
23. (pickup pos5-2 key1)
24. (move pos5-2 pos5-1)
25. (drop pos5-1 key1)
26. (pickup pos5-1 key2)
27. (move pos5-1 pos5-2)
28. (drop pos5-2 key2)
29. (pickup pos5-2 key1)
30. (move pos5-2 pos5-1)
31. (drop pos5-1 key1)
32. (pickup pos5-1 key2)
33. (move pos5-1 pos5-2)
34. (drop pos5-2 key2)
35. (pickup pos5-2 key1)
36. (move pos5-2 pos5-1)
37. (drop pos5-1 key1)
38. (pickup pos5-1 key2)
39. (move pos5-1 pos5-2)
40. (drop pos5-2 key2)
41. (pickup pos5-2 key1)
42. (move pos5-2 pos5-1)
43. (drop pos5-1 key1)
44. (pickup pos5-1 key2)
45. (move pos5-1 pos5-2)
46. (drop pos5-2 key2)
47. (pickup pos5-2 key1)
48. (move pos5-2 pos5-1)
49. (drop pos5-1 key1)
50. (pickup pos5-1 key2)
51. (move pos5-1 pos5-2)
52. (drop pos5-2 key2)
53. (pickup pos5-2 key1)
54. (move pos5-2 pos5-1)
55. (drop pos5-1 key1)
56. (pickup pos5-1 key2)
57. (move pos5-1 pos5-2)
58. (drop pos5-2 key2)
59. (pickup pos5-2 key1)
60. (move pos5-2 pos5-1)
61. (drop pos5-1 key1)
62. (pickup pos5-1 key2)
63. (move pos5-1 pos5-2)
64. (drop pos5-2 key2)
65. (pickup pos5-2 key1)
66. (move pos5-2 pos5-1)
67. (drop pos5-1 key1)
68. (pickup pos5-1 key2)
69. (move pos5-1 pos5-2)
70. (drop pos5-2 key2)
71. (pickup pos5-2 key1)
72. (move pos5-2 pos5-1)
73. (drop pos5-1 key1)
74. (pickup pos5-1 key2)
75. (move pos5-1 pos5-2)
76. (drop pos5-2 key2)
77. (pickup pos5-2 key1)
78. (move pos5-2 pos5-1)
79. (drop pos5-1 key1)
80. (pickup pos5-1 key2)
81. (move pos5-1 pos5-2)
82. (drop pos5-2 key2)
83. (pickup pos5-2 key1)
84. (move pos5-2 pos5-1)
85. (drop pos5-1 key1)
86. (pickup pos5-1 key2)
87. (move pos5-1 pos5-2)
88. (drop pos5-2 key2)
89. (pickup pos5-2 key1)
90. (move pos5-2 pos5-1)
91. (drop pos5-1 key1)
92. (pickup pos5-1 key2)
93. (move pos5-1 pos5-2)
94. (drop pos5-2 key2)
95. (pickup pos5-2 key1)
96. (move pos5-2 pos5-1)
97. (drop pos5-1 key1)
98. (pickup pos5-1 key2)
99. (move pos5-1 pos5-2)
100. (drop pos5-2 key2)
101. (pickup pos5-2 key1)
102. (move pos5-2 pos5-1)
103. (drop pos5-1 key1)
104. (pickup pos5-1 key2)
105. (move pos5-1 pos5-2)
106. (drop pos5-2 key2)
107. (pickup pos5-2 key1)
108. (move pos5-2 pos5-1)
109. (drop pos5-1 key1)
110. (pickup pos5-1 key2)
111. (move pos5-1 pos5-2)
112. (drop pos5-2 key2)
113. (pickup pos5-2 key1)
114. (move pos5-2 pos5-1)
115. (drop pos5-1 key1)
116. (pickup pos5-1 key2)
117. (move pos5-1 pos5-2)
118. (drop pos5-2 key2)
119. (pickup pos5-2 key1)
120. (move pos5-2 pos5-1)
121. (drop pos5-1 key1)
122. (pickup pos5-1 key2)
123. (move pos5-1 pos5-2)
124. (drop pos5-2 key2)
125. (pickup pos5-2 key1)
126. (move pos5-2 pos5-1)
127. (drop pos5-1 key1)
128. (pickup pos5-1 key2)
129. (move pos5-1 pos5-2)
130. (drop pos5-2 key2)
131. (pickup pos5-2 key1)
132. (move pos5-2 pos5-1)
133. (drop pos5-1 key1)
134. (pickup pos5-1 key2)
135. (move pos5-1 pos5-2)
136. (drop pos5-2 key2)
137. (pickup pos5-2 key1)
138. (move pos5-2 pos5-1)
139. (drop pos5-1 key1)
140. (pickup pos5-1 key2)
141. (move pos5-1 pos5-2)
142. (drop pos5-2 key2)
143. (pickup pos5-2 key1)
144. (move pos5-2 pos5-1)
145. (drop pos5-1 key1)
146. (pickup pos5-1 key2)
147. (move pos5-1 pos5-2)
148. (drop pos5-2 key2)
149. (pickup pos5-2 key1)
150. (move pos5-2 pos5-1)
151. (drop pos5-1 key1)
152. (pickup pos5-1 key2)
153. (move pos5-1 pos5-2)
154. (drop pos5-2 key2)
155. (pickup pos5-2 key1)
156. (move pos5-2 pos5-1)
157. (drop pos5-1 key1)
158. (pickup pos5-1 key2)
159. (move pos5-1 pos5-2)
160. (drop pos5-2 key2)
161. (pickup pos5-2 key1)
162. (move pos5-2 pos5-1)
163. (drop pos5-1 key1)
164. (pickup pos5-1 key2)
165. (move pos5-1 pos5-2)
166. (drop pos5-2 key2)
167. (pickup pos5-2 key1)
168. (move pos5-2 pos5-1)
169. (drop pos5-1 key1)
170. (pickup pos5-1 key2)
171.