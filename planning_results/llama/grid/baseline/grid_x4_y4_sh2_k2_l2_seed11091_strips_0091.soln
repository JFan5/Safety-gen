Based on the provided domain and problem, I will generate a plan that satisfies the given goals and constraints.

Here is the plan:

(unlock pos2-1 shape0)
(unlock pos3-3 shape1)
(move pos1-3)
(pick key0)
(pick key1)
(move pos1-1)
(drop key0)
(drop key1)
(move pos3-3)
(drop key1)
(drop key0)
(move pos1-1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key0)
(drop key1)
(drop key