Based on the provided domain and problem, here is the plan:

(open pos3-0)
(lock-shape  pos3-1 shape2)
(move pos3-1 pos3-0)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key1 pos3-1)
(move pos3-1 pos3-0)
(at key2 pos3-0)
(unlock pos3-0 key2 shape1)
(move pos3-0 pos3-1)
(at key1 pos3-1)
(move pos3-1 pos3-0)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key2 shape1)
(move pos3-0 pos3-1)
(at key1 pos3-1)
(move pos3-1 pos3-0)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1)
(at key2 pos3-1)
(move pos3-1 pos3-0)
(at key1 pos3-0)
(move pos3-0 pos3-1)
(at key2 pos3-0)
(unlock pos3-0 key1 shape0)
(move pos3-0 pos3-1