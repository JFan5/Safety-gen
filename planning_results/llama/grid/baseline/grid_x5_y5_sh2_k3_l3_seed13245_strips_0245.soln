Based on the provided domain and problem, I will generate a plan that satisfies the given conditions.

The goal is to move the key2 to the position pos4-0.

Here is the plan:

(unlock pos1-1 shape0)
(unlock pos0-2 shape1)
(move pos0-2 pos1-1)
(move pos1-1 pos4-1)
(pick pos4-1 key2)
(move pos4-1 pos4-0)
(drop pos4-1 key2)

This plan satisfies the goal and all constraints.