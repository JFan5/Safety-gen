Using the provided domain and problem, we can generate a plan that satisfies the goal and constraints.

Here is the plan:
(walk bob location1 location2)
(walk bob location2 location3)
(walk bob location3 gate)
(walk bob gate location4)
(pickup_spanner bob location4 spanner1)
(pickup_spanner bob location4 spanner2)
(tighten_nut bob location4 nut1)
(tighten_nut bob location4 nut2)

This plan is grounded, totally-ordered, and satisfies the goal of tightening both nuts.