Based on the provided domain and problem, and following the rules you've outlined, here's the plan:

```
(walk bob shed location1)
(pickup_spanner bob spanner1 bob)
(walk bob location2)
(walk bob location3)
(use spanner1 nut1)
(tighten_nut bob spanner1 bob nut1)
(walk bob location4)
(pickup_spanner bob spanner2 bob)
(walk bob location3)
(use spanner2 nut2)
(tighten_nut bob spanner2 bob nut2)
(walk bob location1)
(pickup_spanner bob spanner3 bob)
(walk bob location3)
(use spanner3 nut3)
(tighten_nut bob spanner3 bob nut3)
```

This plan assumes that the spanner used to tighten a nut is the one that is currently being carried by the man. The order of the actions is such that the nut1 is tightened before nut2 and nut3, as per the constraints in the problem.