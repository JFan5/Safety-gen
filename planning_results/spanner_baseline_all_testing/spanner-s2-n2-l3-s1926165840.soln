Based on the provided domain and problem, the plan to tighten both nuts can be as follows:

```
(walk bob shed location1)
(pickup_spanner bob spanner1 bob)
(walk bob location1 location2)
(use spanner1 nut1)
(tighten_nut bob spanner1 bob nut1)
(drop spanner1 bob location2)
(walk bob location2 location3)
(use spanner1 nut2)
(tighten_nut bob spanner1 bob nut2)
(drop spanner1 bob location3)
```

This plan assumes that the spanner is useable after being used to tighten one nut, which is not explicitly stated in the domain. If the spanner becomes unusable after being used once, the plan would need to be adjusted accordingly.