Based on the provided domain and problem, the following plan can be generated:

```
(walk bob shed location1)
(pickup_spanner bob spanner1 bob)
(walk bob location2)
(use spanner1 nut1)
(tighten_nut bob spanner1 bob nut1)
(drop spanner1 bob location2)
(walk bob location3)
(use spanner1 nut2)
(tighten_nut bob spanner1 bob nut2)
(drop spanner1 bob location3)
(walk bob location4)
(use spanner1 nut3)
(tighten_nut bob spanner1 bob nut3)
(drop spanner1 bob location4)
```

This plan assumes that the spanner can be used after tightening a nut and that it is returned to the location it was picked up from after use. The plan ensures that the tightening order of nuts (nut2 before nut3) is respected as specified in the problem's constraints.