Based on the provided domain and problem, here is the plan to tighten all nuts:

```
(walk bob shed location1)
(pickup_spanner bob spanner1 bob)
(walk bob location2)
(walk bob location3)
(walk bob location4)
(pickup_spanner bob spanner2 bob)
(walk bob location1)
(use_spanner bob spanner1 nut1)
(drop_spanner bob spanner1 bob)
(walk bob location2)
(use_spanner bob spanner2 nut2)
(drop_spanner bob spanner2 bob)
(walk bob location3)
(use_spanner bob spanner1 nut3)
(drop_spanner bob spanner1 bob)
```

This plan assumes that the spanner used to tighten a nut is the one that is currently being carried by the man. Also, it assumes that the spanner is useable and the nut is loose at the beginning. The plan satisfies the given constraints and the initial state.