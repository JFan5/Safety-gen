Based on the provided domain and problem, and following the rules you've outlined, the plan to tighten all nuts in the given scenario would be as follows:

```
(walk bob shed location1)
(pickup_spanner bob spanner1 bob)
(walk bob location2 location1)
(walk bob location3 location2)
(use_spanner bob spanner1 nut1)
(drop_spanner bob spanner1 bob)
(walk bob location4 location3)
(use_spanner bob spanner3 nut2)
(drop_spanner bob spanner3 bob)
(walk bob location1 location4)
(use_spanner bob spanner2 nut3)
(drop_spanner bob spanner2 bob)
```

This plan assumes that the spanner used for tightening nut1 is spanner1, the spanner used for tightening nut2 is spanner3, and the spanner used for tightening nut3 is spanner2. The order of actions is determined by the given constraints in the problem.