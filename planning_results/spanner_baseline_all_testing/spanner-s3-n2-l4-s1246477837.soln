Based on the provided domain and problem, the plan to tighten both nuts can be as follows:

```
(walk bob shed location1)
(pickup_spanner bob spanner1 bob)
(walk bob location2 location3)
(walk bob location3 location4)
(pickup_spanner bob spanner2 bob)
(walk bob location1 gate)
(tighten_nut bob spanner1 nut1 bob)
(walk bob location1 location2)
(tighten_nut bob spanner2 nut2 bob)
```

This plan assumes that the spanner being used is the one that is currently available and usable, and the nut to be tightened is the one that is loose and located at the gate. The plan also assumes that the initial state satisfies the link predicates between the locations.